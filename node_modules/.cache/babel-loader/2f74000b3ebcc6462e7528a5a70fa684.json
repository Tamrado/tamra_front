{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\user\\\\fronttimeline\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _classCallCheck from\"C:\\\\Users\\\\user\\\\fronttimeline\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\user\\\\fronttimeline\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\user\\\\fronttimeline\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\user\\\\fronttimeline\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\user\\\\fronttimeline\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import{UserMenuItem,UserMenu,Username}from'../../components/UserMenu';import{connect}from'react-redux';import{bindActionCreators}from'redux';import*as baseActions from'../../redux/modules/base';import*as userActions from'../../redux/modules/user';import*as postActions from'../../redux/modules/post';import{PostPopup}from'../../components/Popup';import PropTypes from'prop-types';import storage from'../../lib/storage';var UserMenuContainer=/*#__PURE__*/function(_Component){_inherits(UserMenuContainer,_Component);function UserMenuContainer(){var _getPrototypeOf2;var _this;_classCallCheck(this,UserMenuContainer);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(UserMenuContainer)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.handleLogoutButtonClick=function(){var PostActions=_this.props.PostActions;PostActions.setPostPopupDisplay('block');PostActions.setPopupText('로그아웃하시겠습니까?');};_this.handleLogout=function _callee(){var UserActions;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:UserActions=_this.props.UserActions;_context.prev=1;_context.next=4;return _regeneratorRuntime.awrap(UserActions.logout());case 4:_context.next=9;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](1);console.log(_context.t0);case 9:storage.remove('loggedInfo');window.location.href='/auth/Login';case 11:case\"end\":return _context.stop();}}},null,null,[[1,6]]);};_this.handleCancel=function _callee2(){var _this$props,PostActions,BaseActions;return _regeneratorRuntime.async(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this$props=_this.props,PostActions=_this$props.PostActions,BaseActions=_this$props.BaseActions;PostActions.setPostPopupDisplay('none');BaseActions.setUserMenuVisibility('none');case 3:case\"end\":return _context2.stop();}}});};return _this;}_createClass(UserMenuContainer,[{key:\"render\",value:function render(){var _this$props2=this.props,visible=_this$props2.visible,username=_this$props2.username,BaseActions=_this$props2.BaseActions,postPopupDisplay=_this$props2.postPopupDisplay,popupText=_this$props2.popupText;var handleLogout=this.handleLogout,handleLogoutButtonClick=this.handleLogoutButtonClick,handleCancel=this.handleCancel;if(visible==='none'){return null;}else{BaseActions.setFollowMenuVisible('none');BaseActions.setAlarmMenuVisible('none');}return React.createElement(\"div\",null,React.createElement(UserMenu,null,React.createElement(Username,{username:username}),React.createElement(UserMenuItem,{onClick:handleLogoutButtonClick},\"\\uB85C\\uADF8\\uC544\\uC6C3\")),React.createElement(PostPopup,{handleOk:handleLogout,right:'40%',handleCancel:handleCancel,text:popupText,display:postPopupDisplay}));}}]);return UserMenuContainer;}(Component);UserMenuContainer.contextTypes={router:PropTypes.object};export default connect(function(state){return{visible:state.base.get('userMenuVisible'),username:state.user.getIn(['loggedInfo','username']),display:state.post.get('popupDisplay'),postPopupDisplay:state.post.get('postPopupDisplay'),popupText:state.post.get('popupText')};},function(dispatch){return{BaseActions:bindActionCreators(baseActions,dispatch),UserActions:bindActionCreators(userActions,dispatch),PostActions:bindActionCreators(postActions,dispatch)};})(UserMenuContainer);","map":{"version":3,"sources":["C:/Users/user/fronttimeline/src/containers/Base/UserMenuContainer.js"],"names":["React","Component","UserMenuItem","UserMenu","Username","connect","bindActionCreators","baseActions","userActions","postActions","PostPopup","PropTypes","storage","UserMenuContainer","handleLogoutButtonClick","PostActions","props","setPostPopupDisplay","setPopupText","handleLogout","UserActions","logout","console","log","remove","window","location","href","handleCancel","BaseActions","setUserMenuVisibility","visible","username","postPopupDisplay","popupText","setFollowMenuVisible","setAlarmMenuVisible","contextTypes","router","object","state","base","get","user","getIn","display","post","dispatch"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {UserMenuItem,UserMenu, Username} from '../../components/UserMenu';\r\nimport {connect} from 'react-redux';\r\nimport {bindActionCreators} from 'redux';\r\nimport * as baseActions from '../../redux/modules/base';\r\nimport * as userActions from '../../redux/modules/user';\r\nimport * as postActions from '../../redux/modules/post';\r\nimport {PostPopup} from '../../components/Popup';\r\nimport PropTypes from 'prop-types';\r\nimport storage from '../../lib/storage';\r\nclass UserMenuContainer extends Component{\r\n\r\n    static contextTypes = {\r\n        router: PropTypes.object\r\n    }\r\n\r\n    handleLogoutButtonClick = () => {\r\n        const {PostActions} = this.props;\r\n        PostActions.setPostPopupDisplay('block');\r\n        PostActions.setPopupText('로그아웃하시겠습니까?');\r\n    }\r\n\r\n    handleLogout = async()=> {\r\n        const {UserActions} = this.props;\r\n\r\n        try{\r\n            await UserActions.logout();\r\n        }catch (e){\r\n            console.log(e);\r\n        }\r\n\r\n        storage.remove('loggedInfo');\r\n        window.location.href='/auth/Login';\r\n    }\r\n    handleCancel = async() => {\r\n        const {PostActions,BaseActions} = this.props;\r\n        PostActions.setPostPopupDisplay('none');\r\n        BaseActions.setUserMenuVisibility('none');\r\n    }\r\n\r\n    render(){\r\n        const{visible, username,BaseActions,postPopupDisplay,popupText} = this.props;\r\n        const {handleLogout,handleLogoutButtonClick,handleCancel} = this;\r\n\r\n        if(visible === 'none'){\r\n            return null;\r\n        }\r\n        else {\r\n            BaseActions.setFollowMenuVisible('none');\r\n            BaseActions.setAlarmMenuVisible('none');\r\n        }\r\n        return (\r\n            <div>\r\n            <UserMenu>\r\n                <Username username={username}/>\r\n                <UserMenuItem onClick={handleLogoutButtonClick}>로그아웃</UserMenuItem>\r\n                </UserMenu>\r\n            <PostPopup handleOk={handleLogout} right={'40%'} handleCancel={handleCancel}\r\n             text={popupText} display={postPopupDisplay} />\r\n                </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(\r\n\r\n    (state) => ({\r\n        visible : state.base.get('userMenuVisible'),\r\n        username: state.user.getIn(['loggedInfo','username']),\r\n        display : state.post.get('popupDisplay'),\r\n        postPopupDisplay : state.post.get('postPopupDisplay'),\r\n        popupText : state.post.get('popupText')\r\n    }),\r\n    (dispatch) => ({\r\n        BaseActions: bindActionCreators(baseActions, dispatch),\r\n        UserActions: bindActionCreators(userActions, dispatch),\r\n        PostActions : bindActionCreators(postActions, dispatch)\r\n    })\r\n)(UserMenuContainer);"]},"metadata":{},"sourceType":"module"}