{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\user\\\\fronttimeline\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _classCallCheck from\"C:\\\\Users\\\\user\\\\fronttimeline\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\user\\\\fronttimeline\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\user\\\\fronttimeline\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\user\\\\fronttimeline\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\user\\\\fronttimeline\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import{RegisterComponent}from'../../components/Auth';import{bindActionCreators}from'redux';import{connect}from'react-redux';import*as authActions from'../../redux/modules/auth';import*as userActions from'../../redux/modules/user';import storage from'../../lib/storage';import{setError,validate,checkEmailExists,checkIdExists,checkPhoneExists,setAuthActions,setPassword}from'../Function/ValidateModule';var Register=/*#__PURE__*/function(_Component){_inherits(Register,_Component);function Register(){var _getPrototypeOf2;var _this;_classCallCheck(this,Register);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Register)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={file:null};_this.checkedChange=function(e){var AuthActions=_this.props.AuthActions;var _e$target$checked=e.target.checked,name=_e$target$checked.name,value=_e$target$checked.value;AuthActions.changeInput({name:name,value:value,form:'register'});};_this.defaultNullChange=function(e){var AuthActions=_this.props.AuthActions;var _e$target=e.target,name=_e$target.name,value=_e$target.value;AuthActions.changeInput({name:name,value:value,form:'register'});};_this.handleFileInput=function(e){_this.setState({file:e.target.files[0]});};_this.handleChange=function(e){var AuthActions=_this.props.AuthActions;var _e$target2=e.target,name=_e$target2.name,value=_e$target2.value;AuthActions.changeInput({name:name,value:value,form:'register'});setPassword(_this.props.password);var validation=validate[name](value);if(name.indexOf('password')>-1||!validation)return;if(name.indexOf('email')>-1)checkEmailExists(value);else if(name.indexOf('id')>-1)checkIdExists(value);else if(name.indexOf('phone')>-1)checkPhoneExists(value);};_this.handleLocalRegister=function _callee(){var _this$props,form,AuthActions,error,history,UserActions,_form$toJS,email,id,password,passwordConfirm,phone,name,comment,address,gender,birthday,formData,loggedInfo;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$props=_this.props,form=_this$props.form,AuthActions=_this$props.AuthActions,error=_this$props.error,history=_this$props.history,UserActions=_this$props.UserActions;_form$toJS=form.toJS(),email=_form$toJS.email,id=_form$toJS.id,password=_form$toJS.password,passwordConfirm=_form$toJS.passwordConfirm,phone=_form$toJS.phone,name=_form$toJS.name,comment=_form$toJS.comment,address=_form$toJS.address,gender=_form$toJS.gender,birthday=_form$toJS.birthday;formData=new FormData();if(_this.state.file!==null)formData.append('file',_this.state.file);else formData.append('file',null);formData.append('userId',id);if(!error){_context.next=7;break;}return _context.abrupt(\"return\");case 7:if(!(!validate['email'](email)||!validate['id'](id)||!validate['password'](password)||!validate['passwordConfirm'](passwordConfirm)||!validate['name'](name)||!validate['comment'](comment)||!validate['phone'](phone)||!validate['gender'](gender))){_context.next=9;break;}return _context.abrupt(\"return\");case 9:_context.prev=9;_context.next=12;return _regeneratorRuntime.awrap(AuthActions.localRegister({email:email,id:id,password:password,name:name,comment:comment,phone:phone,address:address,gender:gender,birthday:birthday}));case 12:_context.next=18;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](9);if(_context.t0.response.status===411)setError('조건에 맞는 데이터를 입력해주세요.');if(_context.t0.response.status===409)setError('다른 회원과 일치하는 데이터가 있습니다. 다시 입력해주세요.');case 18:_context.prev=18;_context.next=21;return _regeneratorRuntime.awrap(AuthActions.localRegisterImage(formData));case 21:loggedInfo=_this.props.result.toJS();storage.set('loggedInfo',loggedInfo);UserActions.setLoggedInfo(loggedInfo);UserActions.setValidated(true);history.push('/');_context.next=33;break;case 28:_context.prev=28;_context.t1=_context[\"catch\"](18);if(_context.t1.response.status===422)setError('알 수 없는 에러가 발생했습니다.');if(_context.t1.response.status===409)setError('다른 회원의 아이디와 동일합니다. 다시 입력해주세요.');if(_context.t1.response.status===411)setError('조건에 맞는 데이터를 입력해주세요.');case 33:case\"end\":return _context.stop();}}},null,null,[[9,14],[18,28]]);};_this.enterRegister=function(){if(window.event.keyCode===13)_this.handleLocalRegister();};return _this;}_createClass(Register,[{key:\"componentWillUnmount\",value:function componentWillUnmount(){var AuthActions=this.props.AuthActions;AuthActions.initializeForm('register');}},{key:\"componentDidMount\",value:function componentDidMount(){var AuthActions=this.props.AuthActions;setAuthActions(AuthActions);}},{key:\"render\",value:function render(){var _this$props2=this.props,error=_this$props2.error,errorId=_this$props2.errorId;var _this$props$form$toJS=this.props.form.toJS(),id=_this$props$form$toJS.id,password=_this$props$form$toJS.password,passwordConfirm=_this$props$form$toJS.passwordConfirm,email=_this$props$form$toJS.email,name=_this$props$form$toJS.name,phone=_this$props$form$toJS.phone,birthday=_this$props$form$toJS.birthday,comment=_this$props$form$toJS.comment,address=_this$props$form$toJS.address;var handleChange=this.handleChange,handleLocalRegister=this.handleLocalRegister,defaultNullChange=this.defaultNullChange,handleFileInput=this.handleFileInput,checkedChange=this.checkedChange,enterRegister=this.enterRegister;return React.createElement(RegisterComponent,{error:error,errorId:errorId,id:id,password:password,passwordConfirm:passwordConfirm,email:email,name:name,phone:phone,birthday:birthday,comment:comment,address:address,handleChange:handleChange,handleLocalRegister:handleLocalRegister,defaultNullChange:defaultNullChange,handleFileInput:handleFileInput,checkedChange:checkedChange,enterRegister:enterRegister});}}]);return Register;}(Component);export default connect(function(state){return{form:state.auth.getIn(['register','form']),error:state.auth.getIn(['register','error']),errorId:state.auth.getIn(['register','errorId']),result:state.auth.get('result'),password:state.auth.getIn(['register','form','password'])};},function(dispatch){return{AuthActions:bindActionCreators(authActions,dispatch),UserActions:bindActionCreators(userActions,dispatch)};})(Register);","map":{"version":3,"sources":["C:/Users/user/fronttimeline/src/containers/Auth/Register.js"],"names":["React","Component","RegisterComponent","bindActionCreators","connect","authActions","userActions","storage","setError","validate","checkEmailExists","checkIdExists","checkPhoneExists","setAuthActions","setPassword","Register","state","file","checkedChange","e","AuthActions","props","target","checked","name","value","changeInput","form","defaultNullChange","handleFileInput","setState","files","handleChange","password","validation","indexOf","handleLocalRegister","error","history","UserActions","toJS","email","id","passwordConfirm","phone","comment","address","gender","birthday","formData","FormData","append","localRegister","response","status","localRegisterImage","loggedInfo","result","set","setLoggedInfo","setValidated","push","enterRegister","window","event","keyCode","initializeForm","errorId","auth","getIn","get","dispatch"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {RegisterComponent} from '../../components/Auth';\r\nimport { bindActionCreators } from 'redux';\r\nimport {connect} from 'react-redux';\r\nimport * as authActions from '../../redux/modules/auth';\r\nimport * as userActions from '../../redux/modules/user';\r\nimport storage from '../../lib/storage';\r\nimport {setError,validate,checkEmailExists,checkIdExists,checkPhoneExists,\r\n    setAuthActions,setPassword} from '../Function/ValidateModule';\r\n\r\nclass Register extends Component{  \r\n        state = {\r\n        file: null\r\n        }\r\n    \r\n    componentWillUnmount(){\r\n        const {AuthActions} = this.props;\r\n        AuthActions.initializeForm('register');\r\n    }\r\n    componentDidMount(){\r\n        const {AuthActions} = this.props;\r\n        setAuthActions(AuthActions);\r\n    }\r\n\r\n    checkedChange = (e) =>{\r\n        const {AuthActions} = this.props;\r\n        const {name, value} = e.target.checked;\r\n        AuthActions.changeInput({\r\n          name,\r\n          value,\r\n          form: 'register'  \r\n        });\r\n    }\r\n\r\n    defaultNullChange = (e) =>{\r\n        const {AuthActions} = this.props;\r\n        const {name, value} = e.target;\r\n        AuthActions.changeInput({\r\n          name,\r\n          value,\r\n          form: 'register'  \r\n        });\r\n        \r\n    }\r\n\r\n    handleFileInput=(e)=>{\r\n            this.setState({\r\n            file: e.target.files[0]\r\n            });\r\n        \r\n      }\r\n    handleChange = (e) =>{\r\n    const {AuthActions} = this.props;\r\n    const {name, value} = e.target;\r\n    AuthActions.changeInput({\r\n      name,\r\n      value,\r\n      form: 'register'  \r\n    });\r\n    setPassword(this.props.password);\r\n    const validation = validate[name](value);\r\n    if(name.indexOf('password') > -1 || !validation) return;\r\n    if( name.indexOf('email') > -1)\r\n        checkEmailExists(value);\r\n    else if(name.indexOf('id') > -1) \r\n        checkIdExists(value); \r\n     else if(name.indexOf('phone') > -1) \r\n        checkPhoneExists(value);\r\n    \r\n}\r\nhandleLocalRegister = async() => {\r\n    const{form, AuthActions, error, history,UserActions} = this.props;\r\n    const {email, id, password, passwordConfirm, phone,name,comment,address,gender,birthday} = form.toJS();\r\n    const formData = new FormData();\r\n    if(this.state.file !== null)\r\n        formData.append('file',this.state.file);\r\n    else\r\n        formData.append('file',null);\r\n    formData.append('userId',id);\r\n\r\n    if(error) return; //현재 에러 있는 상태라면 진행 x\r\n    if(!validate['email'](email)\r\n    || !validate['id'](id)\r\n    || !validate['password'](password)\r\n    || !validate['passwordConfirm'](passwordConfirm)\r\n    || !validate['name'](name)\r\n    || !validate['comment'](comment)\r\n    || !validate['phone'](phone)\r\n    || !validate['gender'](gender)\r\n    ){\r\n        //하나라도 실패하면 진행 하지 않음\r\n        return;\r\n    }\r\n    \r\n    try{\r\n         await AuthActions.localRegister({\r\n            email,id,password,name,comment,phone,address,gender,birthday\r\n        });\r\n    } catch(e){\r\n        if(e.response.status === 411)\r\n            setError('조건에 맞는 데이터를 입력해주세요.');\r\n        if(e.response.status === 409)\r\n            setError('다른 회원과 일치하는 데이터가 있습니다. 다시 입력해주세요.');\r\n    }\r\n    try{\r\n         await AuthActions.localRegisterImage(\r\n            formData\r\n        );\r\n        const loggedInfo = this.props.result.toJS();\r\n        storage.set('loggedInfo', loggedInfo);\r\n        UserActions.setLoggedInfo(loggedInfo);\r\n        UserActions.setValidated(true);\r\n        history.push('/');\r\n    } catch(e){\r\n        if(e.response.status === 422)\r\n            setError('알 수 없는 에러가 발생했습니다.');\r\n        if(e.response.status === 409)\r\n            setError('다른 회원의 아이디와 동일합니다. 다시 입력해주세요.');\r\n        if(e.response.status === 411)\r\n            setError('조건에 맞는 데이터를 입력해주세요.');\r\n    }\r\n    }\r\n    enterRegister = () => {\r\n        if(window.event.keyCode === 13)\r\n          this.handleLocalRegister();\r\n    }\r\n    render(){\r\n        const {error,errorId} = this.props;\r\n        const {id,password,passwordConfirm,email,name,phone,birthday,comment,address} = this.props.form.toJS();\r\n        const {handleChange,handleLocalRegister,defaultNullChange,handleFileInput,checkedChange,enterRegister} = this;\r\n        return(\r\n            <RegisterComponent error={error} errorId = {errorId} id = {id} password={password} \r\n            passwordConfirm = {passwordConfirm} email={email} name={name} phone={phone} birthday={birthday}\r\n            comment={comment} address={address} handleChange={handleChange} handleLocalRegister={handleLocalRegister}\r\n            defaultNullChange={defaultNullChange} handleFileInput={handleFileInput} checkedChange={checkedChange}\r\n            enterRegister={enterRegister}/>\r\n        );\r\n        }\r\n}\r\n\r\nexport default connect(\r\n    (state) => ({\r\n        form: state.auth.getIn(['register','form']),\r\n        error: state.auth.getIn(['register','error']),\r\n        errorId: state.auth.getIn(['register','errorId']),\r\n        result: state.auth.get('result'),\r\n        password : state.auth.getIn(['register','form','password'])\r\n    }),\r\n    (dispatch)=>({\r\n        AuthActions : bindActionCreators(authActions,dispatch),\r\n        UserActions : bindActionCreators(userActions, dispatch)\r\n    })\r\n)(Register);"]},"metadata":{},"sourceType":"module"}