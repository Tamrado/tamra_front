{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\user\\\\fronttimeline\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _classCallCheck from\"C:\\\\Users\\\\user\\\\fronttimeline\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\user\\\\fronttimeline\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\user\\\\fronttimeline\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\user\\\\fronttimeline\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\user\\\\fronttimeline\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Switch,Route}from'react-router-dom';import{Home,AuthLogin,AuthRegister,UserPageConfirm,AuthKakaoRegister,UserPage,Timeline,ImageDetail,Search,NotFound}from'./pages';import HeaderContainer from'./containers/Base/HeaderContainer';import storage from'./lib/storage';import{connect}from'react-redux';import{bindActionCreators}from'redux';import*as userActions from'./redux/modules/user';var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);function App(){var _getPrototypeOf2;var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(App)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.initializeUserInfo=function _callee(){var UserActions,loggedInfo;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:UserActions=_this.props.UserActions;loggedInfo=storage.get('loggedInfo');if(loggedInfo){_context.next=4;break;}return _context.abrupt(\"return\");case 4:UserActions.setLoggedInfo(loggedInfo);if(!(loggedInfo.category==='basic')){_context.next=19;break;}_context.prev=6;_context.next=9;return _regeneratorRuntime.awrap(UserActions.checkStatus());case 9:_context.next=17;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](6);console.log(_context.t0);storage.remove('loggedInfo');window.location.replace('/auth/login?expired');return _context.abrupt(\"return\");case 17:_context.next=30;break;case 19:_context.prev=19;_context.next=22;return _regeneratorRuntime.awrap(UserActions.kakaoCheckStatus());case 22:_context.next=30;break;case 24:_context.prev=24;_context.t1=_context[\"catch\"](19);console.log(_context.t1);storage.remove('loggedInfo');window.location.replace('/auth/login?expired');return _context.abrupt(\"return\");case 30:case\"end\":return _context.stop();}}},null,null,[[6,11],[19,24]]);};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){this.initializeUserInfo();}},{key:\"render\",value:function render(){return React.createElement(\"div\",null,React.createElement(HeaderContainer,null),React.createElement(Switch,null,React.createElement(Route,{exact:true,path:\"/\",component:Home}),React.createElement(Route,{path:\"/feed/@:postid/image/:index\",component:ImageDetail}),React.createElement(Route,{path:\"/auth/Login\",component:AuthLogin}),React.createElement(Route,{path:\"/auth/kakao/Register/:id\",component:AuthKakaoRegister}),React.createElement(Route,{path:\"/auth/Register\",component:AuthRegister}),React.createElement(Route,{exact:true,path:\"/@:username/password\",component:UserPageConfirm}),React.createElement(Route,{exact:true,path:\"/@:username/info\",component:UserPage}),React.createElement(Route,{exact:true,path:\"/@:username\",component:Timeline}),React.createElement(Route,{exact:true,path:\"/search/:nickname\",component:Search}),React.createElement(Route,{exact:true,path:\"/notfound\",component:NotFound}),React.createElement(Route,{component:NotFound})));}}]);return App;}(Component);export default connect(null,function(dispatch){return{UserActions:bindActionCreators(userActions,dispatch)};})(App);","map":{"version":3,"sources":["C:/Users/user/fronttimeline/src/App.js"],"names":["React","Component","Switch","Route","Home","AuthLogin","AuthRegister","UserPageConfirm","AuthKakaoRegister","UserPage","Timeline","ImageDetail","Search","NotFound","HeaderContainer","storage","connect","bindActionCreators","userActions","App","initializeUserInfo","UserActions","props","loggedInfo","get","setLoggedInfo","category","checkStatus","console","log","remove","window","location","replace","kakaoCheckStatus","dispatch"],"mappings":"i6BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,MAAT,CAAgBC,KAAhB,KAA6B,kBAA7B,CACA,OAASC,IAAT,CAAeC,SAAf,CAAyBC,YAAzB,CAAuCC,eAAvC,CAAuDC,iBAAvD,CACIC,QADJ,CACaC,QADb,CACsBC,WADtB,CACkCC,MADlC,CACyCC,QADzC,KACwD,SADxD,CAEA,MAAOC,CAAAA,eAAP,KAA4B,mCAA5B,CAEA,MAAOC,CAAAA,OAAP,KAAoB,eAApB,CACA,OAAQC,OAAR,KAAsB,aAAtB,CACA,OAAQC,kBAAR,KAAiC,OAAjC,CACA,MAAO,GAAKC,CAAAA,WAAZ,KAA6B,sBAA7B,C,GAIMC,CAAAA,G,mXAEFC,kB,CAAqB,+JACVC,WADU,CACK,MAAKC,KADV,CACVD,WADU,CAEXE,UAFW,CAEER,OAAO,CAACS,GAAR,CAAY,YAAZ,CAFF,IAGbD,UAHa,iEAMjBF,WAAW,CAACI,aAAZ,CAA0BF,UAA1B,EANiB,KAOdA,UAAU,CAACG,QAAX,GAAwB,OAPV,4FASRL,WAAW,CAACM,WAAZ,EATQ,0FAWbC,OAAO,CAACC,GAAR,cACAd,OAAO,CAACe,MAAR,CAAe,YAAf,EACAC,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,qBAAxB,EAba,2IAmBPZ,WAAW,CAACa,gBAAZ,EAnBO,4FAqBZN,OAAO,CAACC,GAAR,cACAd,OAAO,CAACe,MAAR,CAAe,YAAf,EACAC,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,qBAAxB,EAvBY,2G,4FA6BF,CACf,KAAKb,kBAAL,GACH,C,uCAEQ,CACL,MACI,gCACE,oBAAC,eAAD,MADF,CAEE,oBAAC,MAAD,MACE,oBAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,GAAlB,CAAsB,SAAS,CAAEhB,IAAjC,EADF,CAEE,oBAAC,KAAD,EAAO,IAAI,CAAG,6BAAd,CAA4C,SAAS,CAAEO,WAAvD,EAFF,CAGE,oBAAC,KAAD,EAAO,IAAI,CAAC,aAAZ,CAA0B,SAAS,CAAEN,SAArC,EAHF,CAIE,oBAAC,KAAD,EAAO,IAAI,CAAC,0BAAZ,CAAuC,SAAS,CAAEG,iBAAlD,EAJF,CAKE,oBAAC,KAAD,EAAO,IAAI,CAAC,gBAAZ,CAA6B,SAAS,CAAEF,YAAxC,EALF,CAME,oBAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,sBAAlB,CAAyC,SAAS,CAAEC,eAApD,EANF,CAOE,oBAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,kBAAlB,CAAoC,SAAS,CAAEE,QAA/C,EAPF,CAQE,oBAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,aAAlB,CAA+B,SAAS,CAAEC,QAA1C,EARF,CASE,oBAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAG,mBAApB,CAAwC,SAAS,CAAEE,MAAnD,EATF,CAUE,oBAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAG,WAApB,CAAgC,SAAS,CAAEC,QAA3C,EAVF,CAWE,oBAAC,KAAD,EAAO,SAAS,CAAEA,QAAlB,EAXF,CAFF,CADJ,CAkBH,C,iBAtDaZ,S,EAyDlB,cAAee,CAAAA,OAAO,CAClB,IADkB,CAElB,SAACmB,QAAD,QAAe,CACXd,WAAW,CAAEJ,kBAAkB,CAACC,WAAD,CAAciB,QAAd,CADpB,CAAf,EAFkB,CAAP,CAKbhB,GALa,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Switch,Route } from 'react-router-dom';\nimport { Home, AuthLogin,AuthRegister, UserPageConfirm,AuthKakaoRegister,\n    UserPage,Timeline,ImageDetail,Search,NotFound} from './pages';\nimport HeaderContainer from './containers/Base/HeaderContainer';\n\nimport storage from './lib/storage';\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport * as userActions from './redux/modules/user';\n\n\n\nclass App extends Component {\n\n    initializeUserInfo = async () => {\n        const {UserActions} = this.props;\n        const loggedInfo = storage.get('loggedInfo');\n        if(!loggedInfo)\n        return ;\n        \n        UserActions.setLoggedInfo(loggedInfo);\n        if(loggedInfo.category === 'basic'){\n        try{\n           await UserActions.checkStatus();\n        } catch(e){\n            console.log(e);\n            storage.remove('loggedInfo');\n            window.location.replace('/auth/login?expired');\n            return;\n        }\n    }\n    else{\n        try{\n            await UserActions.kakaoCheckStatus();\n         } catch(e){\n             console.log(e);\n             storage.remove('loggedInfo');\n             window.location.replace('/auth/login?expired');\n             return;\n         }\n    }\n       \n    }\n    componentDidMount(){\n        this.initializeUserInfo();\n    }\n\n    render() {\n        return (\n            <div>\n              <HeaderContainer/>\n              <Switch>\n                <Route exact path=\"/\" component={Home}/>\n                <Route path = \"/feed/@:postid/image/:index\" component={ImageDetail}/>\n                <Route path=\"/auth/Login\" component={AuthLogin}/>\n                <Route path=\"/auth/kakao/Register/:id\" component={AuthKakaoRegister}/>\n                <Route path=\"/auth/Register\" component={AuthRegister}/>\n                <Route exact path=\"/@:username/password\" component={UserPageConfirm}/>\n                <Route exact path=\"/@:username/info\"component={UserPage}/>\n                <Route exact path=\"/@:username\"component={Timeline}/>\n                <Route exact path = \"/search/:nickname\" component={Search}/>\n                <Route exact path = \"/notfound\" component={NotFound}/>\n                <Route component={NotFound}/>\n                </Switch>\n            </div>\n        );\n    }\n}\n\nexport default connect(\n    null,\n    (dispatch) => ({\n        UserActions: bindActionCreators(userActions, dispatch)\n    })\n)(App);"]},"metadata":{},"sourceType":"module"}