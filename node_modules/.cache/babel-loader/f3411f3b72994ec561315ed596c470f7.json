{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\user\\\\fronttimeline\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"C:\\\\Users\\\\user\\\\fronttimeline\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _classCallCheck from\"C:\\\\Users\\\\user\\\\fronttimeline\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\user\\\\fronttimeline\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\user\\\\fronttimeline\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\user\\\\fronttimeline\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"C:\\\\Users\\\\user\\\\fronttimeline\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\user\\\\fronttimeline\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import{AuthContent,InputWithLabel,AuthButton,RightAlignedLink,AuthError,Label}from'../../components/Auth';import{bindActionCreators}from'redux';import{connect}from'react-redux';import*as authActions from'../../redux/modules/auth';import{isEmail,isAlphanumeric,isLength}from'validator';import debounce from'lodash/debounce';import*as userActions from'../../redux/modules/user';import storage from'../../lib/storage';var Register=/*#__PURE__*/function(_Component){_inherits(Register,_Component);function Register(props){var _this;_classCallCheck(this,Register);_this=_possibleConstructorReturn(this,_getPrototypeOf(Register).call(this,props));_this.setError=function(message,id){var AuthActions=_this.props.AuthActions;AuthActions.setError({form:'register',message:message});AuthActions.setErrorId({form:'register',id:id});};_this.checkEmailExists=debounce(function _callee(email){var AuthActions;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:AuthActions=_this.props.AuthActions;_context.prev=1;_context.next=4;return _regeneratorRuntime.awrap(AuthActions.checkEmailExists(email,'null'));case 4:_this.setError(null,'email');_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](1);_this.setError('이미 존재하는 이메일입니다.','email');case 10:case\"end\":return _context.stop();}}},null,null,[[1,7]]);},300);_this.checkIdExists=debounce(function _callee2(id){var AuthActions;return _regeneratorRuntime.async(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:AuthActions=_this.props.AuthActions;_context2.prev=1;_context2.next=4;return _regeneratorRuntime.awrap(AuthActions.checkIdExists(id));case 4:_this.setError(null,'id');_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](1);_this.setError('이미 존재하는 아이디입니다.','id');case 10:case\"end\":return _context2.stop();}}},null,null,[[1,7]]);},300);_this.checkPhoneExists=debounce(function _callee3(phone){var AuthActions;return _regeneratorRuntime.async(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:AuthActions=_this.props.AuthActions;_context3.prev=1;_context3.next=4;return _regeneratorRuntime.awrap(AuthActions.checkPhoneExists(phone,'null'));case 4:_this.setError(null,'phone');_context3.next=10;break;case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](1);_this.setError('이미 존재하는 핸드폰 번호입니다.','phone');case 10:case\"end\":return _context3.stop();}}},null,null,[[1,7]]);},300);_this.validate={email:function email(value){if(!isEmail(value)){_this.setError('잘못된 이메일 형식 입니다.','email');return false;}return true;},id:function id(value){if(!isAlphanumeric(value)||!isLength(value,{min:9,max:15})){_this.setError('아이디는 9~15 글자의 알파벳 혹은 숫자로 이루어져야 합니다.','id');return false;}return true;},password:function password(value){if(!new RegExp(/^(?=.*\\d)(?=.*[~`!@#$%\\\\^&*()-])(?=.*[a-z])(?=.*[A-Z]).{9,12}$/).test(value)){_this.setError('비밀번호는 9~12 글자의 알파벳 (대소문자 구분), 숫자, 특수문자로 이루어져야 합니다.','password');return false;}else if(new RegExp(/(\\w)\\1\\1\\1/).test(value)){_this.setError('비밀번호는 같은 문자를 4번 이상 사용할 수 없습니다.','password');return false;}_this.setError(null);return true;},passwordConfirm:function passwordConfirm(value){if(_this.props.form.get('password')!==value){_this.setError('비밀번호 확인이 일치하지 않습니다.','passwordConfirm');return false;}_this.setError(null);return true;},phone:function phone(value){if(!new RegExp(/^01(?:0|1|[6-9])-(\\d{3}|\\d{4})-(\\d{4})$/).test(value)){_this.setError('핸드폰 번호는 01x-xxx(x)-xxxx와 같은 형태로 입력해야 합니다.','phone');return false;}return true;},comment:function comment(value){if(!isLength(value,{min:0,max:50})){_this.setError('코멘트는 50자를 넘길 수 없습니다.','comment');return false;}_this.setError(null);return true;},name:function name(value){if(!isLength(value,{min:1,max:30})){_this.setError('이름은 1자 이상 30자 이하여야 합니다.','name');return false;}_this.setError(null);return true;},gender:function gender(value){if(value==null){_this.setError('성별은 반드시 입력해야 합니다.','gender');return false;}_this.setError(null);return true;}};_this.checkedChange=function(e){var AuthActions=_this.props.AuthActions;var _e$target$checked=e.target.checked,name=_e$target$checked.name,value=_e$target$checked.value;AuthActions.changeInput({name:name,value:value,form:'register'});};_this.defaultNullChange=function(e){var AuthActions=_this.props.AuthActions;var _e$target=e.target,name=_e$target.name,value=_e$target.value;AuthActions.changeInput({name:name,value:value,form:'register'});};_this.handleChange=function(e){var AuthActions=_this.props.AuthActions;var _e$target2=e.target,name=_e$target2.name,value=_e$target2.value;AuthActions.changeInput({name:name,value:value,form:'register'});var validation=_this.validate[name](value);if(name.indexOf('password')>-1||!validation)return;if(name.indexOf('email')>-1)_this.checkEmailExists(value);else if(name.indexOf('id')>-1)_this.checkIdExists(value);else if(name.indexOf('phone')>-1)_this.checkPhoneExists(value);};_this.handleLocalRegister=function _callee4(){var _this$props,form,AuthActions,error,history,UserActions,_form$toJS,email,id,password,passwordConfirm,phone,name,comment,address,gender,birthday,formData,_assertThisInitialize,validate,loggedInfo;return _regeneratorRuntime.async(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_this$props=_this.props,form=_this$props.form,AuthActions=_this$props.AuthActions,error=_this$props.error,history=_this$props.history,UserActions=_this$props.UserActions;_form$toJS=form.toJS(),email=_form$toJS.email,id=_form$toJS.id,password=_form$toJS.password,passwordConfirm=_form$toJS.passwordConfirm,phone=_form$toJS.phone,name=_form$toJS.name,comment=_form$toJS.comment,address=_form$toJS.address,gender=_form$toJS.gender,birthday=_form$toJS.birthday;formData=new FormData();if(_this.state.file!==null)formData.append('file',_this.state.file);else formData.append('file',null);formData.append('userId',id);_assertThisInitialize=_assertThisInitialized(_this),validate=_assertThisInitialize.validate;if(!error){_context4.next=8;break;}return _context4.abrupt(\"return\");case 8:if(!(!validate['email'](email)||!validate['id'](id)||!validate['password'](password)||!validate['passwordConfirm'](passwordConfirm)||!validate['name'](name)||!validate['comment'](comment)||!validate['phone'](phone)||!validate['gender'](gender))){_context4.next=10;break;}return _context4.abrupt(\"return\");case 10:_context4.prev=10;_context4.next=13;return _regeneratorRuntime.awrap(AuthActions.localRegister({email:email,id:id,password:password,name:name,comment:comment,phone:phone,address:address,gender:gender,birthday:birthday}));case 13:_context4.next=19;break;case 15:_context4.prev=15;_context4.t0=_context4[\"catch\"](10);if(_context4.t0.response.status===411)_this.setError('조건에 맞는 데이터를 입력해주세요.');if(_context4.t0.response.status===409)_this.setError('다른 회원과 일치하는 데이터가 있습니다. 다시 입력해주세요.');case 19:_context4.prev=19;_context4.next=22;return _regeneratorRuntime.awrap(AuthActions.localRegisterImage(formData));case 22:loggedInfo=_this.props.result.toJS();storage.set('loggedInfo',loggedInfo);UserActions.setLoggedInfo(loggedInfo);UserActions.setValidated(true);history.push('/');_context4.next=34;break;case 29:_context4.prev=29;_context4.t1=_context4[\"catch\"](19);if(_context4.t1.response.status===422)_this.setError('알 수 없는 에러가 발생했습니다.');if(_context4.t1.response.status===409)_this.setError('다른 회원의 아이디와 동일합니다. 다시 입력해주세요.');if(_context4.t1.response.status===411)_this.setError('조건에 맞는 데이터를 입력해주세요.');case 34:case\"end\":return _context4.stop();}}},null,null,[[10,15],[19,29]]);};_this.enterRegister=function(){if(window.event.keyCode===13)_this.handleLocalRegister();};_this.state={file:null};_this.handleFileInput=_this.handleFileInput.bind(_assertThisInitialized(_this));return _this;}_createClass(Register,[{key:\"componentWillUnmount\",value:function componentWillUnmount(){var AuthActions=this.props.AuthActions;AuthActions.initializeForm('register');}},{key:\"handleFileInput\",value:function handleFileInput(e){this.setState({file:e.target.files[0]});}},{key:\"render\",value:function render(){var inputStyle={width:'15%',left:'5%',position:'relative',outline:'none',borderRadius:'0px',lineHeight:'2.5rem',fontSize:'1.2rem',paddingLeft:'0.5rem',fontFamily:'Noto Sans KR',fontStyle:'normal',paddingRight:'1rem',marginRight:'1rem'};var _this$props2=this.props,error=_this$props2.error,errorId=_this$props2.errorId;var _this$props$form$toJS=this.props.form.toJS(),id=_this$props$form$toJS.id,password=_this$props$form$toJS.password,passwordConfirm=_this$props$form$toJS.passwordConfirm,email=_this$props$form$toJS.email,name=_this$props$form$toJS.name,phone=_this$props$form$toJS.phone,birthday=_this$props$form$toJS.birthday,comment=_this$props$form$toJS.comment,address=_this$props$form$toJS.address,gender=_this$props$form$toJS.gender;var handleChange=this.handleChange,handleLocalRegister=this.handleLocalRegister,defaultNullChange=this.defaultNullChange,handleFileInput=this.handleFileInput,checkedChange=this.checkedChange,enterRegister=this.enterRegister;return React.createElement(AuthContent,{title:\"SIGN UP\"},React.createElement(InputWithLabel,{label:\"\\uC544\\uC774\\uB514\",name:\"id\",placeholder:\"\\uC544\\uC774\\uB514\",enter:enterRegister,value:id,onChange:handleChange}),errorId==='id'&&error&&React.createElement(AuthError,null,error),React.createElement(InputWithLabel,{label:\"\\uBE44\\uBC00\\uBC88\\uD638\",name:\"password\",placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638\",enter:enterRegister,type:\"password\",value:password,onChange:handleChange}),errorId==='password'&&error&&React.createElement(AuthError,null,error),React.createElement(InputWithLabel,{label:\"\\uBE44\\uBC00\\uBC88\\uD638 \\uD655\\uC778\",name:\"passwordConfirm\",placeholder:\"\\uB2E4\\uC2DC \\uD55C\\uBC88 \\uC785\\uB825\",type:\"password\",enter:enterRegister,value:passwordConfirm,onChange:handleChange}),errorId==='passwordConfirm'&&error&&React.createElement(AuthError,null,error),React.createElement(InputWithLabel,{label:\"\\uC0DD\\uB144\\uC6D4\\uC77C\",name:\"birthday\",placeholder:\"****-**-**\",type:\"date\",enter:enterRegister,value:birthday,onChange:defaultNullChange}),errorId==='birthday'&&error&&React.createElement(AuthError,null,error),React.createElement(InputWithLabel,{label:\"\\uC774\\uBA54\\uC77C\",name:\"email\",placeholder:\"timeline@naver.com\",type:\"email\",enter:enterRegister,value:email,onChange:handleChange}),errorId==='email'&&error&&React.createElement(AuthError,null,error),React.createElement(InputWithLabel,{label:\"\\uD578\\uB4DC\\uD3F0 \\uBC88\\uD638\",name:\"phone\",placeholder:\"010-1234-1234\",value:phone,enter:enterRegister,onChange:handleChange}),errorId==='phone'&&error&&React.createElement(AuthError,null,error),React.createElement(InputWithLabel,{label:\"\\uC774\\uB984\",name:\"name\",placeholder:\"\\uC774\\uB984\",enter:enterRegister,value:name,onChange:handleChange}),errorId==='name'&&error&&React.createElement(AuthError,null,error),React.createElement(InputWithLabel,_defineProperty({label:\"\\uCF54\\uBA58\\uD2B8\",name:\"comment\",placeholder:\"\\uBC18\\uAC11\\uC2B5\\uB2C8\\uB2E4.\",enter:enterRegister,value:comment,onChange:handleChange},\"enter\",enterRegister)),errorId==='comment'&&error&&React.createElement(AuthError,null,error),React.createElement(\"br\",null),React.createElement(Label,{label:\"\\uC131\\uBCC4\"}),React.createElement(\"input\",{style:inputStyle,name:\"gender\",type:\"radio\",value:\"0\",onKeyUp:enterRegister,onChange:checkedChange}),\"\\uC5EC\\uC131\",React.createElement(\"input\",{style:inputStyle,name:\"gender\",type:\"radio\",value:1,onKeyUp:enterRegister,onChange:checkedChange}),\"\\uB0A8\\uC131\",React.createElement(\"input\",{style:inputStyle,name:\"gender\",type:\"radio\",value:2,onKeyUp:enterRegister,onChange:checkedChange}),\"others\",errorId==='gender'&&error&&React.createElement(AuthError,null,error),React.createElement(InputWithLabel,{enter:enterRegister,label:\"\\uC8FC\\uC18C\",name:\"address\",placeholder:\"\\uC11C\\uC6B8\",value:address,onChange:defaultNullChange}),errorId==='address'&&error&&React.createElement(AuthError,null,error),React.createElement(InputWithLabel,{enter:enterRegister,label:\"\\uD504\\uB85C\\uD544 \\uC0AC\\uC9C4\",name:\"image\",type:\"file\",accept:\".gif, .jpg, .png\",onChange:handleFileInput}),React.createElement(AuthButton,{onClick:handleLocalRegister,enter:enterRegister},\"\\uD68C\\uC6D0\\uAC00\\uC785\"),React.createElement(RightAlignedLink,{to:\"/auth/login\"},\"\\uB85C\\uADF8\\uC778\"));}}]);return Register;}(Component);export default connect(function(state){return{form:state.auth.getIn(['register','form']),error:state.auth.getIn(['register','error']),errorId:state.auth.getIn(['register','errorId']),result:state.auth.get('result')};},function(dispatch){return{AuthActions:bindActionCreators(authActions,dispatch),UserActions:bindActionCreators(userActions,dispatch)};})(Register);","map":{"version":3,"sources":["C:/Users/user/fronttimeline/src/containers/Auth/Register.js"],"names":["React","Component","AuthContent","InputWithLabel","AuthButton","RightAlignedLink","AuthError","Label","bindActionCreators","connect","authActions","isEmail","isAlphanumeric","isLength","debounce","userActions","storage","Register","props","setError","message","id","AuthActions","form","setErrorId","checkEmailExists","email","checkIdExists","checkPhoneExists","phone","validate","value","min","max","password","RegExp","test","passwordConfirm","get","comment","name","gender","checkedChange","e","target","checked","changeInput","defaultNullChange","handleChange","validation","indexOf","handleLocalRegister","error","history","UserActions","toJS","address","birthday","formData","FormData","state","file","append","localRegister","response","status","localRegisterImage","loggedInfo","result","set","setLoggedInfo","setValidated","push","enterRegister","window","event","keyCode","handleFileInput","bind","initializeForm","setState","files","inputStyle","width","left","position","outline","borderRadius","lineHeight","fontSize","paddingLeft","fontFamily","fontStyle","paddingRight","marginRight","errorId","auth","getIn","dispatch"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {AuthContent,InputWithLabel,AuthButton,RightAlignedLink,AuthError,Label} from '../../components/Auth';\r\nimport { bindActionCreators } from 'redux';\r\nimport {connect} from 'react-redux';\r\nimport * as authActions from '../../redux/modules/auth';\r\nimport {isEmail,isAlphanumeric,isLength} from 'validator';\r\nimport debounce from 'lodash/debounce';\r\nimport * as userActions from '../../redux/modules/user';\r\nimport storage from '../../lib/storage';\r\n\r\nclass Register extends Component{  \r\n\r\n    constructor(props) {\r\n\r\n        super(props);\r\n        \r\n        this.state = {\r\n        \r\n        file: null\r\n        }\r\n        this.handleFileInput = this.handleFileInput.bind(this);\r\n    }\r\n    setError = (message,id) => {\r\n        const{AuthActions} = this.props;\r\n        AuthActions.setError({form: 'register',message});\r\n        AuthActions.setErrorId({form: 'register',id});\r\n    }\r\n\r\n    checkEmailExists = debounce(async (email) => {\r\n        const { AuthActions } = this.props;\r\n        try{\r\n            await AuthActions.checkEmailExists(email,'null');\r\n            this.setError(null,'email');\r\n        }catch(e){\r\n            this.setError('이미 존재하는 이메일입니다.','email');\r\n        }\r\n    },300);\r\n\r\n    checkIdExists = debounce(async(id)=> {\r\n        const {AuthActions} = this.props;\r\n        try{\r\n            await AuthActions.checkIdExists(id);\r\n                this.setError(null,'id');\r\n            \r\n        } catch (e){\r\n            this.setError('이미 존재하는 아이디입니다.','id');\r\n        }\r\n    },300);\r\n\r\n    checkPhoneExists = debounce(async(phone) => {\r\n        const {AuthActions} = this.props;\r\n        try{\r\n            await AuthActions.checkPhoneExists(phone,'null');\r\n                this.setError(null,'phone');\r\n            \r\n        }catch (e){\r\n            this.setError('이미 존재하는 핸드폰 번호입니다.','phone');\r\n        }\r\n    },300);\r\n\r\n    validate = {\r\n        email: (value) => {\r\n            if(!isEmail(value)){\r\n                this.setError('잘못된 이메일 형식 입니다.','email');\r\n                return false;\r\n            }\r\n            return true;\r\n        },\r\n            id: (value) => {\r\n            if(!isAlphanumeric(value) || !isLength(value, {min:9, max: 15})) {\r\n                this.setError('아이디는 9~15 글자의 알파벳 혹은 숫자로 이루어져야 합니다.','id');\r\n                return false;\r\n            }\r\n            return true;\r\n        },\r\n        password: (value) => {\r\n            \r\n            if(!new RegExp(/^(?=.*\\d)(?=.*[~`!@#$%\\\\^&*()-])(?=.*[a-z])(?=.*[A-Z]).{9,12}$/).test(value)){\r\n                this.setError('비밀번호는 9~12 글자의 알파벳 (대소문자 구분), 숫자, 특수문자로 이루어져야 합니다.','password');\r\n                return false;\r\n            }\r\n            else if(new RegExp(/(\\w)\\1\\1\\1/).test(value)){\r\n                this.setError('비밀번호는 같은 문자를 4번 이상 사용할 수 없습니다.','password');\r\n                return false;\r\n            }\r\n            this.setError(null);\r\n            return true;\r\n        },\r\n        passwordConfirm: (value) => {\r\n            if(this.props.form.get('password') !== value){\r\n                this.setError('비밀번호 확인이 일치하지 않습니다.','passwordConfirm');\r\n                return false;\r\n            }\r\n            this.setError(null);\r\n            return true;\r\n        },\r\n        phone: (value)=> {\r\n            if(!new RegExp(/^01(?:0|1|[6-9])-(\\d{3}|\\d{4})-(\\d{4})$/).test(value)){\r\n                this.setError('핸드폰 번호는 01x-xxx(x)-xxxx와 같은 형태로 입력해야 합니다.','phone');\r\n                return false;\r\n            }\r\n            return true;\r\n        },\r\n        comment: (value)=> {\r\n            if(!isLength(value, {min:0, max: 50})){\r\n                this.setError('코멘트는 50자를 넘길 수 없습니다.','comment');\r\n                return false;\r\n            }\r\n            this.setError(null);\r\n            return true;\r\n        },\r\n        name: (value) => {\r\n            if(!isLength(value, {min:1, max: 30})){\r\n                this.setError('이름은 1자 이상 30자 이하여야 합니다.','name');\r\n                return false;\r\n            }\r\n            this.setError(null);\r\n            return true;\r\n        },\r\n        gender: (value) => {\r\n            if(value == null){\r\n                this.setError('성별은 반드시 입력해야 합니다.','gender');\r\n                return false;\r\n            }\r\n            this.setError(null);\r\n            return true;\r\n        }\r\n\r\n    }\r\n    \r\n    componentWillUnmount(){\r\n        const {AuthActions} = this.props;\r\n        AuthActions.initializeForm('register');\r\n    }\r\n\r\n    checkedChange = (e) =>{\r\n        const {AuthActions} = this.props;\r\n        const {name, value} = e.target.checked;\r\n        AuthActions.changeInput({\r\n          name,\r\n          value,\r\n          form: 'register'  \r\n        });\r\n    }\r\n\r\n    defaultNullChange = (e) =>{\r\n        const {AuthActions} = this.props;\r\n        const {name, value} = e.target;\r\n        AuthActions.changeInput({\r\n          name,\r\n          value,\r\n          form: 'register'  \r\n        });\r\n        \r\n    }\r\n\r\n    handleFileInput(e){\r\n            this.setState({\r\n            file: e.target.files[0]\r\n            });\r\n        \r\n      }\r\n    handleChange = (e) =>{\r\n    const {AuthActions} = this.props;\r\n    const {name, value} = e.target;\r\n    AuthActions.changeInput({\r\n      name,\r\n      value,\r\n      form: 'register'  \r\n    });\r\n    const validation = this.validate[name](value);\r\n    if(name.indexOf('password') > -1 || !validation) return;\r\n    if( name.indexOf('email') > -1)\r\n    this.checkEmailExists(value);\r\n    else if(name.indexOf('id') > -1) \r\n     this.checkIdExists(value); \r\n     else if(name.indexOf('phone') > -1) \r\n     this.checkPhoneExists(value);\r\n    \r\n}\r\nhandleLocalRegister = async() => {\r\n    const{form, AuthActions, error, history,UserActions} = this.props;\r\n    const {email, id, password, passwordConfirm, phone,name,comment,address,gender,birthday} = form.toJS();\r\n    const formData = new FormData();\r\n    if(this.state.file !== null)\r\n        formData.append('file',this.state.file);\r\n    else\r\n        formData.append('file',null);\r\n    formData.append('userId',id);\r\n    const {validate} = this;\r\n\r\n    if(error) return; //현재 에러 있는 상태라면 진행 x\r\n    if(!validate['email'](email)\r\n    || !validate['id'](id)\r\n    || !validate['password'](password)\r\n    || !validate['passwordConfirm'](passwordConfirm)\r\n    || !validate['name'](name)\r\n    || !validate['comment'](comment)\r\n    || !validate['phone'](phone)\r\n    || !validate['gender'](gender)\r\n    ){\r\n        //하나라도 실패하면 진행 하지 않음\r\n        return;\r\n    }\r\n    \r\n    try{\r\n         await AuthActions.localRegister({\r\n            email,id,password,name,comment,phone,address,gender,birthday\r\n        });\r\n    } catch(e){\r\n        if(e.response.status === 411)\r\n            this.setError('조건에 맞는 데이터를 입력해주세요.');\r\n        if(e.response.status === 409)\r\n            this.setError('다른 회원과 일치하는 데이터가 있습니다. 다시 입력해주세요.');\r\n    }\r\n    try{\r\n         await AuthActions.localRegisterImage(\r\n            formData\r\n        );\r\n        const loggedInfo = this.props.result.toJS();\r\n        storage.set('loggedInfo', loggedInfo);\r\n        UserActions.setLoggedInfo(loggedInfo);\r\n        UserActions.setValidated(true);\r\n        history.push('/');\r\n    } catch(e){\r\n        if(e.response.status === 422)\r\n            this.setError('알 수 없는 에러가 발생했습니다.');\r\n        if(e.response.status === 409)\r\n            this.setError('다른 회원의 아이디와 동일합니다. 다시 입력해주세요.');\r\n        if(e.response.status === 411)\r\n            this.setError('조건에 맞는 데이터를 입력해주세요.');\r\n    }\r\n    }\r\n    enterRegister = () => {\r\n        if(window.event.keyCode === 13)\r\n          this.handleLocalRegister();\r\n    }\r\n    render(){\r\n        const inputStyle = {\r\n            width: '15%',\r\n            left: '5%',\r\n            position: 'relative',\r\n    outline: 'none',\r\n    borderRadius: '0px',\r\n    lineHeight: '2.5rem',\r\n    fontSize: '1.2rem',\r\n    paddingLeft: '0.5rem',\r\n    fontFamily: 'Noto Sans KR',\r\n    fontStyle: 'normal',\r\n    paddingRight: '1rem',\r\n    marginRight : '1rem'\r\n        }\r\n        const {error,errorId} = this.props;\r\n        const {id,password,passwordConfirm,email,name,phone,birthday,comment,address,gender} = this.props.form.toJS();\r\n        const {handleChange,handleLocalRegister,defaultNullChange,handleFileInput,checkedChange,enterRegister} = this;\r\n        return(\r\n            <AuthContent title='SIGN UP'>\r\n                <InputWithLabel label = \"아이디\" name=\"id\" placeholder=\"아이디\" enter = {enterRegister}\r\n                value = {id}\r\n                onChange={handleChange}/>\r\n                 {\r\n                    errorId === 'id' &&error && <AuthError>{error}</AuthError>\r\n                }               \r\n                <InputWithLabel label = \"비밀번호\" name=\"password\" placeholder=\"비밀번호\" enter = {enterRegister}\r\n                type=\"password\"\r\n                value={password} onChange={handleChange}\r\n                />\r\n                {\r\n                    errorId === 'password' &&error && <AuthError>{error}</AuthError>\r\n                }  \r\n                <InputWithLabel label = \"비밀번호 확인\" name=\"passwordConfirm\" placeholder=\"다시 한번 입력\"\r\n                type=\"password\" enter = {enterRegister}\r\n                value={passwordConfirm} onChange={handleChange}\r\n                />\r\n                {\r\n                    errorId === 'passwordConfirm' &&error && <AuthError>{error}</AuthError>\r\n                }  \r\n                <InputWithLabel label = \"생년월일\" name=\"birthday\" placeholder=\"****-**-**\"\r\n                type=\"date\" enter = {enterRegister}\r\n                value = {birthday} onChange={defaultNullChange}\r\n                />\r\n                {\r\n                    errorId === 'birthday' &&error && <AuthError>{error}</AuthError>\r\n                } \r\n                <InputWithLabel label = \"이메일\" name=\"email\" placeholder=\"timeline@naver.com\"\r\n                type=\"email\" enter = {enterRegister}\r\n                value = {email}\r\n                onChange={handleChange}/>\r\n                {\r\n                    errorId === 'email' &&error && <AuthError>{error}</AuthError>\r\n                } \r\n                <InputWithLabel label = \"핸드폰 번호\" name=\"phone\" placeholder=\"010-1234-1234\"\r\n                value={phone} enter = {enterRegister}\r\n                onChange={handleChange}/>\r\n                {\r\n                    errorId === 'phone' &&error && <AuthError>{error}</AuthError>\r\n                } \r\n                <InputWithLabel label = \"이름\" name=\"name\" placeholder=\"이름\" enter = {enterRegister}\r\n                value = {name} onChange={handleChange}/> \r\n                {\r\n                    errorId === 'name' &&error && <AuthError>{error}</AuthError>\r\n                } \r\n                <InputWithLabel label = \"코멘트\" name=\"comment\" placeholder=\"반갑습니다.\" enter = {enterRegister}\r\n                value = {comment} onChange={handleChange} enter = {enterRegister}/>\r\n                {\r\n                    errorId === 'comment' &&error && <AuthError>{error}</AuthError>\r\n                } \r\n                 <br/>\r\n                <Label label = \"성별\"></Label>\r\n                <input style={inputStyle}  name= \"gender\" type=\"radio\" value='0' onKeyUp = {enterRegister} onChange={checkedChange} />여성\r\n                <input style={inputStyle} name=\"gender\" type=\"radio\" value ={1} onKeyUp = {enterRegister}  onChange={checkedChange}/>남성\r\n                <input style={inputStyle} name=\"gender\" type=\"radio\"value={2} onKeyUp = {enterRegister} onChange={checkedChange} />others\r\n                {\r\n                    errorId === 'gender' &&error && <AuthError>{error}</AuthError>\r\n                } \r\n                <InputWithLabel enter = {enterRegister} label =\"주소\" name =\"address\" placeholder=\"서울\" value = {address} onChange={defaultNullChange} />\r\n                {\r\n                    errorId === 'address' &&error && <AuthError>{error}</AuthError>\r\n                } \r\n                <InputWithLabel enter = {enterRegister} label = \"프로필 사진\" name =\"image\" type=\"file\" accept=\".gif, .jpg, .png\" onChange={handleFileInput}></InputWithLabel>\r\n               \r\n                <AuthButton onClick={handleLocalRegister} enter = {enterRegister}>회원가입</AuthButton>\r\n                <RightAlignedLink to=\"/auth/login\">로그인</RightAlignedLink>\r\n            </AuthContent>\r\n        );\r\n        }\r\n}\r\n\r\nexport default connect(\r\n    (state) => ({\r\n        form: state.auth.getIn(['register','form']),\r\n        error: state.auth.getIn(['register','error']),\r\n        errorId: state.auth.getIn(['register','errorId']),\r\n        result: state.auth.get('result')\r\n    }),\r\n    (dispatch)=>({\r\n        AuthActions : bindActionCreators(authActions,dispatch),\r\n        UserActions : bindActionCreators(userActions, dispatch)\r\n    })\r\n)(Register);"]},"metadata":{},"sourceType":"module"}