{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\user\\\\fronttimeline\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\Users\\\\user\\\\fronttimeline\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";var _objectSpread2;import{Map,List}from'immutable';import{handleActions,createAction}from'redux-actions';import{pender}from'redux-pender';import*as PostAPI from'../../lib/api/post';var UPLOAD_FEED='post/UPLOAD_FEED';var UPLOAD_IMAGE='post/UPLOAD_IMAGE';var SET_FRIEND_INFO='post/SET_FRIEND_INFO';var REMOVE_FRIEND='post/REMOVE_FRIEND';var REMOVE_IMAGE='post/REMOVE_IMAGE';var SET_IMAGE='post/SET_IAMGE';var SET_WRITTEN_DATA='post/SET_WRITTEN_DATA';var SET_SHOW_LEVEL='post/SET_SHOW_LEVEL';var SET_WITH_FRIEND='post/SET_WITH_FRIEND';var SET_WITH_DISPLAY='post/SET_WITH_DISPLAY';var SET_WITH_FRIEND_DISPLAY='post/SET_WITH_FRIEND_DISPLAY';var SET_DISPLAY='post/SET_DISPLAY';var SET_WRITE_DISPLAY='post/SET_WRITE_DISPLAY';var UPDATE_FILELIST='post/UPDATE_FILELIST';var INITIALIZE_FILELIST='post/INITIALIZE_FILELIST';var INITIALIZE_IMAGE='post/INITIALIZE_IMAGE';var DELETE_FEED='post/DELETE_FEED';var SET_FILE_SIZE='post/SET_FILE_SIZE';var MODIFY_FEED_INFORMATION='post/MODIFY_FEED_INFORMATION';var DELETE_FILE='post/DELETE_FILE';var SET_POST_POPUP_DISPLAY='post/SET_POST_POPUP_DISPLAY';var SET_POPUP_DISPLAY='post/SET_POPUP_DISPLAY';var SET_POPUP_TEXT='post/SET_POPUP_TEXT';var SET_POPUP_ID='post/SET_POPUP_ID';var SET_POPUP_CATEGORY='post/SET_POPUP_CATEGORY';export var setPopupCategory=createAction(SET_POPUP_CATEGORY);export var setPopupId=createAction(SET_POPUP_ID);export var setPopupText=createAction(SET_POPUP_TEXT);export var setPostPopupDisplay=createAction(SET_POST_POPUP_DISPLAY);export var setPopupDisplay=createAction(SET_POPUP_DISPLAY);export var deleteFile=createAction(DELETE_FILE);export var modifyFeedInformation=createAction(MODIFY_FEED_INFORMATION,PostAPI.modifyFeedInformation);export var setFileSize=createAction(SET_FILE_SIZE);export var deleteFeed=createAction(DELETE_FEED,PostAPI.deleteFeed);export var initializeImage=createAction(INITIALIZE_IMAGE);export var initializeFilelist=createAction(INITIALIZE_FILELIST);export var updateFilelist=createAction(UPDATE_FILELIST);export var uploadFeed=createAction(UPLOAD_FEED,PostAPI.uploadFeed);export var uploadImage=createAction(UPLOAD_IMAGE,PostAPI.uploadImage);export var setWriteDisplay=createAction(SET_WRITE_DISPLAY);export var setDisplay=createAction(SET_DISPLAY);export var setWithFriendDisplay=createAction(SET_WITH_FRIEND_DISPLAY);export var setWithDisplay=createAction(SET_WITH_DISPLAY);export var setWithFriend=createAction(SET_WITH_FRIEND);export var setShowLevel=createAction(SET_SHOW_LEVEL);export var setWrittenData=createAction(SET_WRITTEN_DATA);export var removeFriend=createAction(REMOVE_FRIEND);export var setFriendInfo=createAction(SET_FRIEND_INFO);export var setImage=createAction(SET_IMAGE);export var removeImage=createAction(REMOVE_IMAGE);var initialState=Map({friendInfo:List(),tags:List(),image:List(),writtenData:'',showLevel:'public',withFriend:'',withDisplay:'none',withFriendDisplay:'none',display:'none',writeDisplay:'none',postId:-1,clear:0,result:Map({}),filelist:List(),fileSize:Map({}),popupDisplay:'none',postPopupDisplay:'none',popupText:'',popupId:-1,popupCategory:''});export default handleActions(_objectSpread({},pender({type:MODIFY_FEED_INFORMATION,onSuccess:function onSuccess(state,action){return state.set('result',action.payload);}}),{},pender({type:DELETE_FEED,onSuccess:function onSuccess(state,action){return state.set('result',action.payload);}}),{},pender({type:UPLOAD_FEED,onSuccess:function onSuccess(state,action){return state.set('postId',action.payload.data.postId);}}),{},pender({type:UPLOAD_IMAGE,onSuccess:function onSuccess(state,action){return state.set('clear',2);},onFailure:function onFailure(state,action){return state.set('clear',-1);}}),(_objectSpread2={},_defineProperty(_objectSpread2,SET_POPUP_CATEGORY,function(state,action){return state.set('popupCategory',action.payload);}),_defineProperty(_objectSpread2,SET_POPUP_ID,function(state,action){return state.set('popupId',action.payload);}),_defineProperty(_objectSpread2,SET_POPUP_TEXT,function(state,action){return state.set('popupText',action.payload);}),_defineProperty(_objectSpread2,SET_POPUP_DISPLAY,function(state,action){return state.set('popupDisplay',action.payload);}),_defineProperty(_objectSpread2,SET_POST_POPUP_DISPLAY,function(state,action){return state.set('postPopupDisplay',action.payload);}),_defineProperty(_objectSpread2,UPDATE_FILELIST,function(state,action){return state.update('filelist',function(item){return item.push(Map({file:action.payload}));});}),_defineProperty(_objectSpread2,DELETE_FILE,function(state,action){var index=state.get('image').findIndex(function(item){return item.get('url')===action.payload;});return state.deleteIn(['image',index]).deleteIn(['filelist',index]);}),_defineProperty(_objectSpread2,SET_FILE_SIZE,function(state,action){return state.set('fileSize',action.payload);}),_defineProperty(_objectSpread2,INITIALIZE_IMAGE,function(state,action){return state.set('image',List());}),_defineProperty(_objectSpread2,INITIALIZE_FILELIST,function(state,action){return state.set('filelist',List());}),_defineProperty(_objectSpread2,SET_WRITE_DISPLAY,function(state,action){return state.set('writeDisplay',action.payload);}),_defineProperty(_objectSpread2,SET_DISPLAY,function(state,action){return state.set('display',action.payload);}),_defineProperty(_objectSpread2,SET_WITH_FRIEND_DISPLAY,function(state,action){return state.set('withFriendDisplay',action.payload);}),_defineProperty(_objectSpread2,SET_WITH_DISPLAY,function(state,action){return state.set('withDisplay',action.payload);}),_defineProperty(_objectSpread2,SET_WITH_FRIEND,function(state,action){return state.set('withFriend',action.payload);}),_defineProperty(_objectSpread2,SET_SHOW_LEVEL,function(state,action){return state.set('showLevel',action.payload.showLevel);}),_defineProperty(_objectSpread2,SET_WRITTEN_DATA,function(state,action){return state.set('writtenData',action.payload);}),_defineProperty(_objectSpread2,SET_IMAGE,function(state,action){return state.update('image',function(image){return image.push(Map({url:action.payload.url}));});}),_defineProperty(_objectSpread2,REMOVE_IMAGE,function(state,action){var index=state.get('image').findIndex(function(item){return item.get('url')===action.payload.id;});return state.deleteIn(['image',index]);}),_defineProperty(_objectSpread2,SET_FRIEND_INFO,function(state,action){var index=state.get('friendInfo').findIndex(function(item){return item.get('username')===action.payload.id;});if(index<0){return state.update('friendInfo',function(friendInfo){return friendInfo.push(Map({username:action.payload.username,nickname:action.payload.nickname,thumbnail:action.payload.thumbnail,comment:action.payload.comment}));});}return state.set('friendInfo',state.get('friendInfo'));}),_defineProperty(_objectSpread2,REMOVE_FRIEND,function(state,action){var index=state.get('friendInfo').findIndex(function(item){return item.get('username')===action.payload;});return state.deleteIn(['friendInfo',index]);}),_objectSpread2)),initialState);","map":{"version":3,"sources":["C:/Users/user/fronttimeline/src/redux/modules/post.js"],"names":["Map","List","handleActions","createAction","pender","PostAPI","UPLOAD_FEED","UPLOAD_IMAGE","SET_FRIEND_INFO","REMOVE_FRIEND","REMOVE_IMAGE","SET_IMAGE","SET_WRITTEN_DATA","SET_SHOW_LEVEL","SET_WITH_FRIEND","SET_WITH_DISPLAY","SET_WITH_FRIEND_DISPLAY","SET_DISPLAY","SET_WRITE_DISPLAY","UPDATE_FILELIST","INITIALIZE_FILELIST","INITIALIZE_IMAGE","DELETE_FEED","SET_FILE_SIZE","MODIFY_FEED_INFORMATION","DELETE_FILE","SET_POST_POPUP_DISPLAY","SET_POPUP_DISPLAY","SET_POPUP_TEXT","SET_POPUP_ID","SET_POPUP_CATEGORY","setPopupCategory","setPopupId","setPopupText","setPostPopupDisplay","setPopupDisplay","deleteFile","modifyFeedInformation","setFileSize","deleteFeed","initializeImage","initializeFilelist","updateFilelist","uploadFeed","uploadImage","setWriteDisplay","setDisplay","setWithFriendDisplay","setWithDisplay","setWithFriend","setShowLevel","setWrittenData","removeFriend","setFriendInfo","setImage","removeImage","initialState","friendInfo","tags","image","writtenData","showLevel","withFriend","withDisplay","withFriendDisplay","display","writeDisplay","postId","clear","result","filelist","fileSize","popupDisplay","postPopupDisplay","popupText","popupId","popupCategory","type","onSuccess","state","action","set","payload","data","onFailure","update","item","push","file","index","get","findIndex","deleteIn","url","id","username","nickname","thumbnail","comment"],"mappings":"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","sourcesContent":["import { Map,List } from 'immutable';\r\nimport { handleActions, createAction } from 'redux-actions';\r\nimport {pender} from 'redux-pender';\r\nimport * as PostAPI from '../../lib/api/post';\r\n\r\nconst UPLOAD_FEED = 'post/UPLOAD_FEED';\r\nconst UPLOAD_IMAGE = 'post/UPLOAD_IMAGE'\r\nconst SET_FRIEND_INFO = 'post/SET_FRIEND_INFO';\r\nconst REMOVE_FRIEND = 'post/REMOVE_FRIEND';\r\nconst REMOVE_IMAGE = 'post/REMOVE_IMAGE';\r\nconst SET_IMAGE = 'post/SET_IAMGE';\r\nconst SET_WRITTEN_DATA = 'post/SET_WRITTEN_DATA';\r\nconst SET_SHOW_LEVEL = 'post/SET_SHOW_LEVEL';\r\nconst SET_WITH_FRIEND = 'post/SET_WITH_FRIEND';\r\nconst SET_WITH_DISPLAY = 'post/SET_WITH_DISPLAY';\r\nconst SET_WITH_FRIEND_DISPLAY = 'post/SET_WITH_FRIEND_DISPLAY';\r\nconst SET_DISPLAY = 'post/SET_DISPLAY';\r\nconst SET_WRITE_DISPLAY = 'post/SET_WRITE_DISPLAY';\r\nconst UPDATE_FILELIST = 'post/UPDATE_FILELIST';\r\nconst INITIALIZE_FILELIST = 'post/INITIALIZE_FILELIST';\r\nconst INITIALIZE_IMAGE = 'post/INITIALIZE_IMAGE';\r\nconst DELETE_FEED = 'post/DELETE_FEED';\r\nconst SET_FILE_SIZE = 'post/SET_FILE_SIZE';\r\nconst MODIFY_FEED_INFORMATION = 'post/MODIFY_FEED_INFORMATION';\r\nconst DELETE_FILE = 'post/DELETE_FILE';\r\nconst SET_POST_POPUP_DISPLAY = 'post/SET_POST_POPUP_DISPLAY';\r\nconst SET_POPUP_DISPLAY = 'post/SET_POPUP_DISPLAY';\r\nconst SET_POPUP_TEXT = 'post/SET_POPUP_TEXT';\r\nconst SET_POPUP_ID = 'post/SET_POPUP_ID';\r\nconst SET_POPUP_CATEGORY = 'post/SET_POPUP_CATEGORY';\r\n\r\nexport const setPopupCategory = createAction(SET_POPUP_CATEGORY);\r\nexport const setPopupId = createAction(SET_POPUP_ID);\r\nexport const setPopupText = createAction(SET_POPUP_TEXT);\r\nexport const setPostPopupDisplay = createAction(SET_POST_POPUP_DISPLAY);\r\nexport const setPopupDisplay = createAction(SET_POPUP_DISPLAY);\r\nexport const deleteFile = createAction(DELETE_FILE);\r\nexport const modifyFeedInformation = createAction(MODIFY_FEED_INFORMATION,PostAPI.modifyFeedInformation);\r\nexport const setFileSize = createAction(SET_FILE_SIZE);\r\nexport const deleteFeed = createAction(DELETE_FEED,PostAPI.deleteFeed);\r\nexport const initializeImage = createAction(INITIALIZE_IMAGE);\r\nexport const initializeFilelist = createAction(INITIALIZE_FILELIST);\r\nexport const updateFilelist = createAction(UPDATE_FILELIST);\r\nexport const uploadFeed = createAction(UPLOAD_FEED,PostAPI.uploadFeed);\r\nexport const uploadImage = createAction(UPLOAD_IMAGE,PostAPI.uploadImage);\r\nexport const setWriteDisplay = createAction(SET_WRITE_DISPLAY);\r\nexport const setDisplay = createAction(SET_DISPLAY);\r\nexport const setWithFriendDisplay = createAction(SET_WITH_FRIEND_DISPLAY);\r\nexport const setWithDisplay = createAction(SET_WITH_DISPLAY);\r\nexport const setWithFriend = createAction(SET_WITH_FRIEND);\r\nexport const setShowLevel = createAction(SET_SHOW_LEVEL);\r\nexport const setWrittenData = createAction(SET_WRITTEN_DATA);\r\nexport const removeFriend = createAction(REMOVE_FRIEND);\r\nexport const setFriendInfo = createAction(SET_FRIEND_INFO);\r\nexport const setImage = createAction(SET_IMAGE);\r\nexport const removeImage = createAction(REMOVE_IMAGE);\r\n\r\n\r\nconst initialState = Map({\r\n    friendInfo: List(),\r\n    tags : List(),\r\n    image : List(),\r\n    writtenData : '',\r\n    showLevel : 'public',\r\n    withFriend : '',\r\n    withDisplay : 'none',\r\n    withFriendDisplay : 'none',\r\n    display : 'none',\r\n    writeDisplay : 'none',\r\n    postId : -1,\r\n    clear : 0,\r\n    result : Map({}),\r\n    filelist : List(),\r\n    fileSize : Map({}),\r\n    popupDisplay : 'none',\r\n    postPopupDisplay : 'none',\r\n    popupText : '',\r\n    popupId : -1,\r\n    popupCategory : ''\r\n});\r\n\r\n\r\nexport default handleActions({\r\n    ...pender({\r\n        type : MODIFY_FEED_INFORMATION,\r\n        onSuccess : (state,action) => state.set('result',action.payload)\r\n    }),\r\n    ...pender({\r\n        type : DELETE_FEED,\r\n        onSuccess : (state,action) => state.set('result',action.payload)\r\n    }),\r\n    ...pender({\r\n        type : UPLOAD_FEED,\r\n        onSuccess : (state,action) => state.set('postId',action.payload.data.postId)\r\n    }),\r\n    ...pender({\r\n        type : UPLOAD_IMAGE,\r\n        onSuccess : (state,action) => state.set('clear',2),\r\n        onFailure : (state,action) => state.set('clear',-1)\r\n    }),\r\n    [SET_POPUP_CATEGORY] : (state,action) => state.set('popupCategory',action.payload),\r\n    [SET_POPUP_ID] : (state,action) => state.set('popupId',action.payload),\r\n    [SET_POPUP_TEXT] : (state,action) => state.set('popupText',action.payload),\r\n    [SET_POPUP_DISPLAY] : (state,action) => state.set('popupDisplay',action.payload),\r\n    [SET_POST_POPUP_DISPLAY ] : (state,action) => state.set('postPopupDisplay',action.payload),\r\n    [UPDATE_FILELIST] : (state,action) => state.update('filelist',item => item.push(Map({\r\n        file : action.payload\r\n    })\r\n    )),\r\n    [DELETE_FILE] : (state,action) => {\r\n        const index = state.get('image').findIndex(item => item.get('url') === action.payload);\r\n        return state.deleteIn(['image',index]).deleteIn(['filelist',index]);\r\n    },\r\n    [SET_FILE_SIZE] : (state,action) => state.set('fileSize',action.payload),\r\n    [INITIALIZE_IMAGE] :(state,action) => state.set('image',List()),\r\n    [INITIALIZE_FILELIST] :(state,action) => state.set('filelist',List()),\r\n    [SET_WRITE_DISPLAY]: (state,action) => state.set('writeDisplay', action.payload),\r\n    [SET_DISPLAY] : (state,action) => state.set('display',action.payload),\r\n    [SET_WITH_FRIEND_DISPLAY] :(state,action) => state.set('withFriendDisplay',action.payload),\r\n    [SET_WITH_DISPLAY] : (state,action) => state.set('withDisplay',action.payload),\r\n    [SET_WITH_FRIEND] : (state,action) => state.set('withFriend',action.payload),\r\n    [SET_SHOW_LEVEL] : (state,action) => state.set('showLevel',action.payload.showLevel),\r\n    [SET_WRITTEN_DATA] : (state,action) => state.set('writtenData',action.payload),\r\n    [SET_IMAGE] :(state,action) => state.update('image',image => \r\n    image.push(\r\n        Map({\r\n            url : action.payload.url\r\n        })\r\n    )\r\n    ),\r\n    [REMOVE_IMAGE]:(state,action)=>{\r\n        const index = state.get('image')\r\n        .findIndex(item => item.get('url')===action.payload.id);\r\n        return state.deleteIn(['image',index]);\r\n    },\r\n    [SET_FRIEND_INFO]: (state,action) =>{\r\n        const index = state.get('friendInfo')\r\n        .findIndex(item => item.get('username')===action.payload.id);\r\n        if(index < 0){\r\n            return state.update('friendInfo',friendInfo => \r\n            friendInfo.push(\r\n                Map({\r\n                    username : action.payload.username,\r\n                    nickname : action.payload.nickname,\r\n                    thumbnail : action.payload.thumbnail,\r\n                    comment : action.payload.comment\r\n                })\r\n            )\r\n        );\r\n        }\r\n        return state.set('friendInfo',state.get('friendInfo'));\r\n            },\r\n    [REMOVE_FRIEND]:(state,action)=>{\r\n        const index = state.get('friendInfo').findIndex(item => item.get('username')===action.payload);\r\n        return state.deleteIn(['friendInfo',index]);\r\n    },\r\n    \r\n    }, initialState);"]},"metadata":{},"sourceType":"module"}